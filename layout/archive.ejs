<div class="container">
<section class="archive">
    <div class="archive-title">归档</div>
    <div>
      <span class="archive-number">目前共计 <%- site.posts.length %> 篇文章</span>
    </div>
  <section class = "posts">
      <% let year = 0000%>
      <% page.posts.each(function (post) { %>
          <% if(year !== date(post.date, 'YYYY')){%>
            <%  year = date(post.date, 'YYYY')%>
            <span class="archive-year"><%- year %></span>
          <%}%>
          <article class="post">
          <div class="post-title">
            <a class="post-title-link" href="<%- url_for(post.path) %>"><%= post.title %></a>
          </div>
          <div class="post-meta">
              <span class="post-time"><%- date(post.date, "DD-MM") %></span>
              <span class="post-meta-item post-meta-tags">
                  /
                  <% if(post.tags && post.tags.length) {%>
                  <%- list_tags(post.tags, {
                    show_count: false,
                    separator: ', ',
                    style: '',
                    transform(str) {
                      return "#"+str.toUpperCase();
                    }
                  }) %>
                  <%}%>
              </span>
          </div>
        </article>
      <% }) %>
  </section>
</section>
<%- partial('_partial/paginator') %>
</div>
